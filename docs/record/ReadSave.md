[Back](../../Readme.md)

# Read, Save records

## Read

> POST http://172.104.142.164:8080/sanarip-tamga/ws/rest/:model/:id/fetch

Запрос который считает данные из таблицы.  
Все нужные поля, нужно просто прописать в теле запроса в поле field   
Ниже есть пример который возвращаеть данные всех полей.

Пример
> POST http://172.104.142.164:8080/sanarip-tamga/ws/rest/com.axelor.apps.sale.db.Declaration/1/fetch

`Тело запроса:`

```json
{
  "fields": [
    "destinationCodeGoods",
    "arrivalLocationArrivalDateTime",
    "motivatedAnswerFito",
    "transportMeansRegId",
    "vehicleMakeName",
    "weightValue",
    "attachmentFile",
    "transitTransportMeans",
    "nameVehicle",
    "vehicleBodyId",
    "transportMeansEntryPurposeCode",
    "customsTransitDeclaration",
    "transportMeansQuantity",
    "attachmentFileGsen",
    "railwayStationCalendarStamp",
    "permissionToCarryOutCargoTransportationId",
    "customsTransitEnforcementMeasure",
    "countryCodeId",
    "otherVehicle",
    "codeFeaturesTransitTransportMeans",
    "signTransportationTirCarnet",
    "attachmentFileGTS",
    "creationDate",
    "arrivalLocation",
    "attrs",
    "salespersonUserFito",
    "sparePartsId",
    "containerIndicator",
    "carrierReps",
    "countCargoSpaces",
    "cargoOperations",
    "vehicleChassisId",
    "attachmentFileFito",
    "motivatedGsen",
    "otherPersonText",
    "signOfAvailability",
    "transportTypeCode",
    "routePointId",
    "registrationNumberTirCarnet",
    "statusVet",
    "motivatedGTS",
    "statusGts",
    "infoIdentificationMeans",
    "piCreateDate",
    "preliminaryInformationUsageCode",
    "statusFito",
    "countShippingSpecificationSheets",
    "registrationNumberPreliminaryInformation",
    "declarationLineList",
    "motivatedMinTrans",
    "unifiedTransportModeCode",
    "company",
    "salespersonUserGsen",
    "vehicleId",
    "personType",
    "countProducts",
    "piType",
    "countShippingSpecifications",
    "declarationType",
    "trailedVehicleId",
    "statusGsen",
    "motivatedAnswer",
    "attachmentFileMinTrans",
    "customsAuthorityAndDestination",
    "broker",
    "vehicleModelName",
    "statusSelect",
    "salespersonUserMinTrans",
    "nameTransportCode",
    "nameModeCode",
    "salespersonUserVet",
    "salespersonUserGts",
    "statusMinTrans"
  ],
  "related": [
    "countryPersonReg",
    "registrationNumberId",
    "reregistrationCode"
  ]
}
```

`Ответ:`

```json
{
  "status": 0,
  "data": [
    {
      "destinationCodeGoods": null,
      "motivatedAnswerFito": null,
      "arrivalLocationArrivalDateTime": null,
      "transportMeansRegId": "aefeaf",
      "vehicleMakeName": null,
      "attachmentFile": null,
      "weightValue": null,
      "transitTransportMeans": null,
      "nameVehicle": null,
      "transportMeansEntryPurposeCode": null,
      "vehicleBodyId": null,
      "transportMeansQuantity": null,
      "customsTransitDeclaration": null,
      "attachmentFileGsen": null,
      "permissionToCarryOutCargoTransportationId": [],
      "railwayStationCalendarStamp": null,
      "customsTransitEnforcementMeasure": [],
      "id": 9,
      "countryCodeId": {
        "$t:name": "АФГАНИСТАН",
        "name": "AFGHANISTAN",
        "id": 1,
        "$version": 0
      },
      "otherVehicle": null,
      "codeFeaturesTransitTransportMeans": null,
      "signTransportationTirCarnet": false,
      "attachmentFileGTS": null,
      "creationDate": "2023-02-16",
      "version": 1,
      "arrivalLocation": {
        "$t:name": "МПТП БОР-ДОБО",
        "name": "MPTP BOR-DOBO",
        "id": 6,
        "$version": 0
      },
      "attrs": null,
      "$wkfStatus": null,
      "salespersonUserFito": null,
      "sparePartsId": [],
      "containerIndicator": false,
      "carrierReps": [],
      "countCargoSpaces": 0,
      "cargoOperations": [],
      "$processInstanceId": null,
      "vehicleChassisId": null,
      "motivatedGsen": null,
      "attachmentFileFito": null,
      "signOfAvailability": false,
      "otherPersonText": null,
      "routePointId": [],
      "transportTypeCode": null,
      "registrationNumberTirCarnet": null,
      "statusVet": 0,
      "motivatedGTS": null,
      "statusGts": 0,
      "piCreateDate": null,
      "infoIdentificationMeans": null,
      "preliminaryInformationUsageCode": "05",
      "statusFito": 0,
      "countShippingSpecificationSheets": 0,
      "declarationLineList": [],
      "motivatedMinTrans": null,
      "registrationNumberPreliminaryInformation": null,
      "unifiedTransportModeCode": null,
      "company": {
        "code": "AXE",
        "name": "Axelor",
        "id": 1,
        "$version": 2
      },
      "salespersonUserGsen": null,
      "vehicleId": null,
      "countProducts": 0,
      "personType": null,
      "countShippingSpecifications": 0,
      "piType": 1,
      "declarationType": "TT",
      "trailedVehicleId": [],
      "$attachments": 0,
      "statusGsen": 0,
      "attachmentFileMinTrans": null,
      "motivatedAnswer": null,
      "customsAuthorityAndDestination": null,
      "broker": null,
      "vehicleModelName": null,
      "statusSelect": 1,
      "salespersonUserMinTrans": null,
      "nameTransportCode": null,
      "salespersonUserVet": null,
      "nameModeCode": null,
      "statusMinTrans": 0,
      "salespersonUserGts": null
    }
  ]
}
```

___

## Save

> POST http://172.104.142.164:8080/sanarip-tamga/ws/rest/:model

#### Для создания пустого ПИ нужно всего лишь заполнить обяз. поля

* "piType": 1 -> АВТО
* "piType": 2 -> Ж/Д
* "piType": 3 -> АВИА

Пример

> POST http://172.104.142.164:8080/sanarip-tamga/ws/rest/com.axelor.apps.sale.db.Declaration

`Тело запроса:`

```json
{
  "data": {
    "piType": 1,
    "creationDate": "2022-01-01",
    "company": {
      "id": 1
    }
  }
}
```

`Ответ:`

```json
{
  "status": 0,
  "data": [
    {
      "destinationCodeGoods": null,
      "motivatedAnswerFito": null,
      "carrierPartner": null,
      "periodicityTypeSelect": 2,
      "transitTransportMeans": null,
      "transportMeansQuantity": null,
      "mainInvoicingAddressStr": null,
      "deliveryCondition": null,
      "nextInvoicingEndPeriodDate": null,
      "statusFitoView": 2,
      "invoicedPartner": null,
      "groupProductsOnPrintings": false,
      "opportunity": null,
      "signTransportationTirCarnet": false,
      "taxNumber": null,
      "updatedOn": null,
      "version": 0,
      "isToPrintLineSubTotal": false,
      "$wkfStatus": null,
      "externalReference": null,
      "deliveredPartner": null,
      "countCargoSpaces": 0,
      "publicVET": false,
      "signOfAvailability": false,
      "confirmationDateTime": null,
      "routePointId": null,
      "stockLocation": null,
      "computationDate": null,
      "advancePaymentList": null,
      "createdByInterco": false,
      "proformaComments": null,
      "piCreateDate": null,
      "declarationLineList": null,
      "timetableList": null,
      "cancelReasonStr": null,
      "currency": null,
      "cancelReason": null,
      "countProducts": 0,
      "personType": null,
      "countShippingSpecifications": 0,
      "trailedVehicleId": null,
      "toInvoiceViaTask": false,
      "blockedOnCustCreditExceed": false,
      "attachmentFileMinTrans": null,
      "stockMoveList": null,
      "team": null,
      "broker": null,
      "statusSelect": 0,
      "specificNotes": null,
      "declarationSeq": null,
      "manualUnblock": false,
      "pickingOrderComments": null,
      "statusMinTrans": 0,
      "orderNumber": null,
      "companyExTaxTotal": "0.00",
      "taxTotal": "0.00",
      "project": null,
      "totalGrossMargin": "0",
      "transportMeansRegId": null,
      "attachmentFile": null,
      "weightValue": null,
      "nameVehicle": null,
      "noticePeriodInDays": 0,
      "transportMeansEntryPurposeCode": null,
      "productionNote": null,
      "permissionToCarryOutCargoTransportationId": null,
      "customsTransitEnforcementMeasure": null,
      "countryCodeId": null,
      "isTacitAgreement": false,
      "inTaxTotal": "0.00",
      "declarationLineTaxList": null,
      "subscriptionText": null,
      "nextInvoicingDate": null,
      "attachmentFileGTS": null,
      "arrivalLocation": null,
      "advancePaymentAmountNeeded": "0",
      "templateUser": null,
      "electronicSignature": null,
      "carrierReps": null,
      "endOfValidityDate": null,
      "orderDate": null,
      "transportTypeCode": null,
      "nextInvPeriodStartDate": null,
      "registrationNumberTirCarnet": null,
      "statusVet": 0,
      "description": null,
      "motivatedGTS": null,
      "inAti": false,
      "title": null,
      "priceList": null,
      "duration": null,
      "preliminaryInformationUsageCode": null,
      "countShippingSpecificationSheets": 0,
      "marginRate": "0",
      "toStockLocation": null,
      "company": {
        "code": "AXE",
        "name": "Axelor",
        "id": 1,
        "$version": 2
      },
      "deliveryAddressStr": null,
      "vehicleId": null,
      "nextInvoicingStartPeriodDate": null,
      "declarationType": "TT",
      "paymentMode": null,
      "specificPackage": null,
      "contractEndDate": null,
      "fullName": null,
      "salespersonUser": null,
      "vehicleModelName": null,
      "amountInvoiced": "0",
      "salespersonUserMinTrans": null,
      "createdBy": {
        "code": "admin",
        "fullName": "Admin",
        "id": 1,
        "$version": 4
      },
      "advancePaymentNeeded": false,
      "deliveryState": 1,
      "salespersonUserVet": null,
      "interco": false,
      "deliveryComments": null,
      "declarationScheduleLineList": null,
      "expectedRealisationDate": null,
      "vehicleBodyId": null,
      "customsTransitDeclaration": null,
      "statusMinTransView": 2,
      "deliveryAddress": null,
      "railwayStationCalendarStamp": null,
      "id": 12,
      "companyCostTotal": "0",
      "attrs": null,
      "salespersonUserFito": null,
      "cargoOperations": null,
      "vehicleChassisId": null,
      "motivatedGsen": null,
      "invoicedFirstDate": null,
      "template": false,
      "currentContractPeriodEndDate": null,
      "otherPersonText": null,
      "numberOfPeriods": 1,
      "contractPeriodInMonths": 0,
      "createdOn": "2023-02-16T08:38:24.881Z",
      "statusGts": 0,
      "publicMinTrans": false,
      "statusFito": 0,
      "motivatedMinTrans": null,
      "registrationNumberPreliminaryInformation": null,
      "isIspmRequired": false,
      "contactPartner": null,
      "deliveryDate": null,
      "statusGsenView": 2,
      "lastReminderDate": null,
      "totalCostPrice": "0",
      "tradingName": null,
      "statusGsen": 0,
      "subscriptionComment": null,
      "motivatedAnswer": null,
      "hideDiscount": false,
      "statusVetView": 2,
      "companyBankDetails": null,
      "standardDelay": 0,
      "importId": null,
      "nameTransportCode": null,
      "internalNote": null,
      "salespersonUserGts": null,
      "fiscalPosition": null,
      "arrivalLocationArrivalDateTime": null,
      "isNeedingConformityCertificate": false,
      "advanceTotal": "0.00",
      "vehicleMakeName": null,
      "oneoffSale": false,
      "attachmentFileGsen": null,
      "statusGtsView": 2,
      "invoiceComments": null,
      "freightCarrierMode": null,
      "selected": false,
      "processInstanceId": null,
      "orderBeingEdited": false,
      "otherVehicle": null,
      "updatedBy": null,
      "codeFeaturesTransitTransportMeans": null,
      "markup": "0",
      "contractStartDate": null,
      "creationDate": "2022-01-01",
      "mainInvoicingAddress": null,
      "sparePartsId": null,
      "clientPartner": null,
      "containerIndicator": false,
      "incoterm": null,
      "attachmentFileFito": null,
      "timetableTemplate": null,
      "publicGTS": false,
      "amountToBeSpreadOverTheTimetable": "0.00",
      "importOrigin": null,
      "declarationTypeSelect": 1,
      "forwarderPartner": null,
      "batchSet": null,
      "infoIdentificationMeans": null,
      "printingSettings": null,
      "directOrderLocation": false,
      "unifiedTransportModeCode": null,
      "salespersonUserGsen": null,
      "shipmentDate": null,
      "accountedRevenue": "0",
      "piType": 1,
      "publicGsen": false,
      "lastReminderComments": null,
      "paymentCondition": null,
      "customsAuthorityAndDestination": null,
      "exTaxTotal": "0.00",
      "shipmentMode": null,
      "versionNumber": 1,
      "confirmedByUser": null,
      "nameModeCode": null,
      "publicFito": false
    }
  ]
}
```

#### Можно ещё создать ПИ частично заполненным

То есть можно без ограничения добавлять значения для полей.

* "piType": 1 -> АВТО
* "piType": 2 -> Ж/Д
* "piType": 3 -> АВИА

Пример

> POST http://172.104.142.164:8080/sanarip-tamga/ws/rest/com.axelor.apps.sale.db.Declaration

`Тело запроса:`

```json
{
  "data": {
    "piType": 1,
    "creationDate": "2022-01-01",
    "company": {
      "id": 1
    },
    "arrivalLocation": {
      "id": 1
    },
    "personType": "CARRIER"
  }
}
```

`Ответ:`

```json
{
  "status": 0,
  "data": [
    {
      "destinationCodeGoods": null,
      "motivatedAnswerFito": null,
      "carrierPartner": null,
      "periodicityTypeSelect": 2,
      "transitTransportMeans": null,
      "transportMeansQuantity": null,
      "mainInvoicingAddressStr": null,
      "deliveryCondition": null,
      "nextInvoicingEndPeriodDate": null,
      "statusFitoView": 2,
      "invoicedPartner": null,
      "groupProductsOnPrintings": false,
      "opportunity": null,
      "signTransportationTirCarnet": false,
      "taxNumber": null,
      "updatedOn": null,
      "version": 0,
      "isToPrintLineSubTotal": false,
      "$wkfStatus": null,
      "externalReference": null,
      "deliveredPartner": null,
      "countCargoSpaces": 0,
      "publicVET": false,
      "signOfAvailability": false,
      "confirmationDateTime": null,
      "routePointId": null,
      "stockLocation": null,
      "computationDate": null,
      "advancePaymentList": null,
      "createdByInterco": false,
      "proformaComments": null,
      "piCreateDate": null,
      "declarationLineList": null,
      "timetableList": null,
      "cancelReasonStr": null,
      "currency": null,
      "cancelReason": null,
      "countProducts": 0,
      "personType": "CARRIER",
      "countShippingSpecifications": 0,
      "trailedVehicleId": null,
      "toInvoiceViaTask": false,
      "blockedOnCustCreditExceed": false,
      "attachmentFileMinTrans": null,
      "stockMoveList": null,
      "team": null,
      "broker": null,
      "statusSelect": 0,
      "specificNotes": null,
      "declarationSeq": null,
      "manualUnblock": false,
      "pickingOrderComments": null,
      "statusMinTrans": 0,
      "orderNumber": null,
      "companyExTaxTotal": "0.00",
      "taxTotal": "0.00",
      "project": null,
      "totalGrossMargin": "0",
      "transportMeansRegId": null,
      "attachmentFile": null,
      "weightValue": null,
      "nameVehicle": null,
      "noticePeriodInDays": 0,
      "transportMeansEntryPurposeCode": null,
      "productionNote": null,
      "permissionToCarryOutCargoTransportationId": null,
      "customsTransitEnforcementMeasure": null,
      "countryCodeId": null,
      "isTacitAgreement": false,
      "inTaxTotal": "0.00",
      "declarationLineTaxList": null,
      "subscriptionText": null,
      "nextInvoicingDate": null,
      "attachmentFileGTS": null,
      "arrivalLocation": {
        "$t:name": "МПТП ТОРУГАРТ",
        "name": "MPTP TORUGART",
        "id": 1,
        "$version": 0
      },
      "advancePaymentAmountNeeded": "0",
      "templateUser": null,
      "electronicSignature": null,
      "carrierReps": null,
      "endOfValidityDate": null,
      "orderDate": null,
      "transportTypeCode": null,
      "nextInvPeriodStartDate": null,
      "registrationNumberTirCarnet": null,
      "statusVet": 0,
      "description": null,
      "motivatedGTS": null,
      "inAti": false,
      "title": null,
      "priceList": null,
      "duration": null,
      "preliminaryInformationUsageCode": null,
      "countShippingSpecificationSheets": 0,
      "marginRate": "0",
      "toStockLocation": null,
      "company": {
        "code": "AXE",
        "name": "Axelor",
        "id": 1,
        "$version": 2
      },
      "deliveryAddressStr": null,
      "vehicleId": null,
      "nextInvoicingStartPeriodDate": null,
      "declarationType": "TT",
      "paymentMode": null,
      "specificPackage": null,
      "contractEndDate": null,
      "fullName": null,
      "salespersonUser": null,
      "vehicleModelName": null,
      "amountInvoiced": "0",
      "salespersonUserMinTrans": null,
      "createdBy": {
        "code": "admin",
        "fullName": "Admin",
        "id": 1,
        "$version": 4
      },
      "advancePaymentNeeded": false,
      "deliveryState": 1,
      "salespersonUserVet": null,
      "interco": false,
      "deliveryComments": null,
      "declarationScheduleLineList": null,
      "expectedRealisationDate": null,
      "vehicleBodyId": null,
      "customsTransitDeclaration": null,
      "statusMinTransView": 2,
      "deliveryAddress": null,
      "railwayStationCalendarStamp": null,
      "id": 14,
      "companyCostTotal": "0",
      "attrs": null,
      "salespersonUserFito": null,
      "cargoOperations": null,
      "vehicleChassisId": null,
      "motivatedGsen": null,
      "invoicedFirstDate": null,
      "template": false,
      "currentContractPeriodEndDate": null,
      "otherPersonText": null,
      "numberOfPeriods": 1,
      "contractPeriodInMonths": 0,
      "createdOn": "2023-02-16T09:13:27.239Z",
      "statusGts": 0,
      "publicMinTrans": false,
      "statusFito": 0,
      "motivatedMinTrans": null,
      "registrationNumberPreliminaryInformation": null,
      "isIspmRequired": false,
      "contactPartner": null,
      "deliveryDate": null,
      "statusGsenView": 2,
      "lastReminderDate": null,
      "totalCostPrice": "0",
      "tradingName": null,
      "statusGsen": 0,
      "subscriptionComment": null,
      "motivatedAnswer": null,
      "hideDiscount": false,
      "statusVetView": 2,
      "companyBankDetails": null,
      "standardDelay": 0,
      "importId": null,
      "nameTransportCode": null,
      "internalNote": null,
      "salespersonUserGts": null,
      "fiscalPosition": null,
      "arrivalLocationArrivalDateTime": null,
      "isNeedingConformityCertificate": false,
      "advanceTotal": "0.00",
      "vehicleMakeName": null,
      "oneoffSale": false,
      "attachmentFileGsen": null,
      "statusGtsView": 2,
      "invoiceComments": null,
      "freightCarrierMode": null,
      "selected": false,
      "processInstanceId": null,
      "orderBeingEdited": false,
      "otherVehicle": null,
      "updatedBy": null,
      "codeFeaturesTransitTransportMeans": null,
      "markup": "0",
      "contractStartDate": null,
      "creationDate": "2022-01-01",
      "mainInvoicingAddress": null,
      "sparePartsId": null,
      "clientPartner": null,
      "containerIndicator": false,
      "incoterm": null,
      "attachmentFileFito": null,
      "timetableTemplate": null,
      "publicGTS": false,
      "amountToBeSpreadOverTheTimetable": "0.00",
      "importOrigin": null,
      "declarationTypeSelect": 1,
      "forwarderPartner": null,
      "batchSet": null,
      "infoIdentificationMeans": null,
      "printingSettings": null,
      "directOrderLocation": false,
      "unifiedTransportModeCode": null,
      "salespersonUserGsen": null,
      "shipmentDate": null,
      "accountedRevenue": "0",
      "piType": 1,
      "publicGsen": false,
      "lastReminderComments": null,
      "paymentCondition": null,
      "customsAuthorityAndDestination": null,
      "exTaxTotal": "0.00",
      "shipmentMode": null,
      "versionNumber": 1,
      "confirmedByUser": null,
      "nameModeCode": null,
      "publicFito": false
    }
  ]
}
```